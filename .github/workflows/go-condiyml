name: Go Conditional execution

on:
  pull_request:
    branches: [ master ]

jobs:
 deploy:
   runs-on: ubunty-latest
   steps:

   - name: Set up Go
     uses: actions/setup-go@5
     with:
       go-version: '1,21'

   - name: Build
     run: go build -v hi.go

   - name: Deploy to production
     if: github.event.pull_request.base.ref == 'master'
     run: echo "Deploying to production"

   - name: Deploy to staging
     if: github.event.pull_request.base.ref != 'master'
     run: echo "Deploying to staging"
